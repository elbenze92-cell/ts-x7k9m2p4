// ==UserScript==
// @name         *Create_image_tip 대본 생성
// @namespace    http://tampermonkey.net/
// @version      2.0.2
// @description  동기부여 숏폼 대본 + 이미지 프롬프트 자동 생성 (완전 자동)
// @author       Atobro
// @match        https://claude.ai/project/019ad8fd-1b0e-77f2-83b9-6706e3ff60d4
// @updateURL    https://cdn.jsdelivr.net/gh/elbenze92-cell/ts-x7k9m2p4@main/create_image_tip.user.js
// @downloadURL  https://cdn.jsdelivr.net/gh/elbenze92-cell/ts-x7k9m2p4@main/create_image_tip.user.js
// @grant        GM_addStyle
// @run-at       document-end
// ==/UserScript==

(function() {
    'use strict';

    console.log('🎯 Create Motivation 대본 생성기 시작');

    // 전역 변수
    let isRunning = false;
    let currentStep = 0;
    let allResponses = [];
    const MAX_STEPS = 12;

    // ============================================
    // 7단계 프롬프트 정의
    // ============================================
    const STEP_PROMPTS = [
        {
            name: "기본 구조 설정",
            prompt: `1단계 : 첨부한 파일과 설정된 지침을 A부터 Z까지 첨부된 파일을 포함해서 순차적으로 다시 한 번 확인해서 학습합니다.
마스터키워드가 포함된 첨부파일은 앞으로 전달할 프롬프트의 기반이 되는 내용입니다.

위 내용을 이해했으면 '이해 완료'라고 짧게 대답한다 (지금 이 프롬프트에는 구구절절 답변하지 말자 시간아깝다)
이해했다면 다음 단계를 바로 진행하겠다.`
        },
        {
            name: "프롬프트 패턴 학습 1",
            prompt: `기승전결 프롬프트 패턴 학습 내용
프롬프트 001: 자극적인 욕망 제시(돈/성/권력)로 시작, 점점 수상한 흐름으로 전개, 갑작스러운 반전 상황 발생, 허무하거나 반전 결말. 특징은 욕망+반전+유머
프롬프트 002: 일상적인 상황에서 시작, 일반과 다른 해결 시도, 낯선 과정이나 기술 등장, 실용 꿀팁이나 놀라운 정리로 마무리. 특징은 실용+팁+공감
프롬프트 003: 위험하거나 위태로운 상황 진입, 점점 심해지는 도전, 실제 위기나 실패 위협 발생, 생존법이나 실패 사례 제시. 특징은 생존+몰입+경고
프롬프트 004: 문화적 오해나 충돌로 시작, 타 문화 관습 등장, 이해 과정에서 편견이 깨짐, 인사이트나 감동 결론. 특징은 문화+인식전환
프롬프트 005: 비정상적 행동이나 이상한 구조 노출, 구조나 원인 분석, 몰입되는 과정이나 시각 변화, 놀라운 진실 발견. 특징은 건축/기계+반전
프롬프트 006: 겉보기엔 멀쩡한 대상, 속 내용 파헤치기, 충격적인 실체 발견, 진실이나 소비자 경고. 특징은 사기+소비자정보
프롬프트 007: 도저히 성공 못할 미션 제시, 이상한 방식으로 도전, 극한에 몰리는 상황, 성공이나 실패를 통한 교훈. 특징은 몰입+감정+도전
프롬프트 008: 자연 속 극한 상황 연출, 살아남기 위한 시도, 의외의 변수 등장, 실제 생존 기술 공유. 특징은 자연+긴장+실용
프롬프트 009: 흔한 장소나 구조물 소개, 이상한 디테일 포착, 깊이 들어갈수록 불안 증폭, 붕괴나 충격 결말. 특징은 위기+구조물+공포
프롬프트 010: 진짜일까라는 의심 유도, 실험이나 분석으로 증명, 반전이 드러나는 순간, 허세 대 실속 정리. 특징은 과장광고+반전비교
프롬프트 011: 조건 못 맞추면 못한다는 경고 후 도전 조건 제시, 제한되는 이유와 반대 사례 등장, 실제 무시 시 발생 상황 보여주기, 제한이 필요한 이유와 안전 강조. 특징은 행동제한+경고+교육
프롬프트 012: 단순한 지시나 요청, 계속되는 어긋난 결과물, 통제 불능 상황과 감정 갈등, 엉뚱하지만 웃게 되는 반전. 특징은 반복실패+감정반전+허당
프롬프트 013: 평범해 보이는 놀이기구 소개, 탈출이 어려운 구조 드러남, 반복 실패와 유일한 성공 조건 소개, 구조 설계의 의도와 목적 해석. 특징은 구조+반복시도+설계의도
프롬프트 014: 일상 속 정체 폭로, 고대 역사와 수작업 과정 연결, 재료와 과정과 기술을 따라가며 제작 방식 공개, 알고 있던 음식의 새로운 정체 공개. 특징은 식재료역사+전통제조+몰입형큐레이션
프롬프트 015: 일상에서 생물과의 충돌 상황, 사람이 무력하게 지켜보는 구조, 생물의 생사에 따른 긴장 유도, 생명 경시 문제와 교육적 인사이트. 특징은 생물+감정+윤리경고
프롬프트 016: 공동체 내 불법이나 부당한 상황, 제도나 권력의 무력함으로 문제 방치, 개인이 직접 행동에 나섬, 실질적 조치로 문제 해결. 특징은 갈등해결+시스템비판+행동중심
프롬프트 017: 특정 음식이나 재료가 특별한 이유, 국가마다 다른 조리법 소개, 각 문화권의 방식 비교, 문화적 의미나 관습 설명. 특징은 음식다문화+비교설명
프롬프트 018: 특정 작업에 과몰입한 인물, 전문가 도구와 기술로 완성도 높임, 반복되는 불편을 수작업으로 감당, 창의적 아이디어로 자동화. 특징은 직업집착+장비활용+자동화
프롬프트 019: 불가능한 공공/응급 미션 제시, 일반 직업 넘어선 훈련과 시스템 공개, 위기 속 즉흥 판단과 기술로 돌파, 헌신적 결과와 무료 서비스. 특징은 현실직업+감탄+반전
프롬프트 020: 규칙 위반으로 긴장 유도, 친구들이 시선 분산 전략 수행, 우연한 변수나 예기치 않은 요청, 임무 완수 후 빠른 철수. 특징은 전략+IQ+긴장감+성공
프롬프트 021: 평범한 일상 구조물에서 시작, 생존 장치로 기계적 변신, 밀폐 구조와 내부 설계와 생존 키트 공개, 기술 기반 생존 가능성 강조. 특징은 구조물+기술+위기대처
프롬프트 022: 생명의 위기 상황 제시, 구조나 치료 시도 등장, 회복을 위한 집중 조치, 완전한 회복과 감동. 특징은 감정중심+치료서사+회복드라마
프롬프트 023: 단순해 보이는 게임이나 챌린지, 예상치 못한 도구 파손이나 실수, 포기 대신 창의적 방법으로 도전, 극적인 성취 경험. 특징은 재시도+도전+감정몰입
프롬프트 024: 일상 식재료의 놀라운 기원, 수작업에서 산업화된 대량 생산 공정, 세계 기록 도전 중 위기와 몰입, 기록 달성과 사회적 나눔. 특징은 지식다큐+몰입체험+도전성공
프롬프트 025: 일상 속 식재료 수확, 기계적 과학적 공정 전개, 실험과 기술 중심 몰입, 완성품의 양산과 유통. 특징은 산업형음식다큐+STEM몰입
프롬프트 026: 친숙한 일상 물건 소개, 예상 밖의 제조 가공 방식, 실제 기계공정 몰입과 탐색, 흥미로운 역사와 기원. 특징은 지식큐레이션+몰입형공정
프롬프트 027: 전통이나 일상 제작 공정 시작, 손으로만 느낄 수 있는 복잡한 기술, 수작업과 기계 결합으로 숙련의 예술, 제품과 역사와 가치의 조화. 특징은 전통기술+수작업미학+몰입공정
프롬프트 028 쇼핑형: 평범한 제품 소개, 기능과 영향에 대한 의외의 정보, 가짜와 진짜 구별 기준 제공, 신뢰도 높은 브랜드 마무리. 특징은 유명인추천+실용정보+소비자기준
프롬프트 029 쇼핑형: 반복적 일상 습관의 문제 제기, 과학적 수치 기반 위협 정보와 실험 인용, 행동에 따른 위험 확대와 해결 유도, 정수기나 필터 등 실용적 대안 제시. 특징은 건강습관경고+과학기반+생활대체
프롬프트 030: 희귀 피규어 완판 소식으로 시작, 주가 1200% 급등과 글로벌 확장, 블라인드박스와 가챠 심리로 도박 규제 논란, 새로운 수익원으로 확장하는 생존 전략. 특징은 소비심리중독+글로벌팬심+생존전략
프롬프트 구조 분석 - 추가 학습
프롬프트 031: "우리가 먹는 음식이 진짜일까?" 의심 유도로 시작, 대부분이 가짜라는 실체 폭로, 각 음식별 위조 수법 분석 및 대처법 제시, 소비자 인식 전환과 구매 기준 제공. 특징은 식품 위조 경고+정보 다큐+소비자 주권 강화형
프롬프트 032: 익숙한 음식에 대한 의문이나 새로운 조합 제시, 독특하거나 생소한 조리 방식 도입, 조리 과정 중 감각 자극과 몰입 유도, 완성품과 감탄 반응 유도. 특징은 실험형 요리+몰입형 감각+따라하기 유혹
프롬프트 033: 슈퍼푸드가 지방간을 치료한다는 믿음에 의문 제기, 잘못된 정보와 증상 중심 접근 비판, 인슐린·과당·간 대사 원리 심층 설명, 원인 제거와 전체론적 접근 제시. 특징은 건강 신화 반박+근본 해결 중심+교육 다큐
프롬프트 034: "이게 진짜 건강한 음식일까?" 질문형 후킹, 음식 기능에 대한 잘못된 인식 비판, 식품군별 과학적 설명과 실생활 적용, 다양한 식품 선택 기준과 습관 변화 조언. 특징은 건강 인식 전환+실용 정보+감정 몰입
프롬프트 035: 공동체 안에서 게임/챌린지 규칙 제시, 참가자들의 창의적 시도, 예상 밖 결과물로 긴장감 조성, 주최자가 준비한 반전 마무리. 특징은 공동체 챌린지+반전 유머+경쾌한 결말
프롬프트 036: "현대인의 두뇌는 약물로 강화되고 있다" 충격 후킹, 광범위한 암페타민 사용 사례 제시, 뇌과학·중독 리스크 과학적 설명, 단기 성취 vs 장기 부작용 대비. 특징은 약물 양면성+과학 다큐+사회적 경고
프롬프트 037: 일상 속 작은 문제나 난처한 상황, 엉뚱한 아이디어나 속임수 등장, 장난·트릭이 드러나며 몰입, 모두가 웃는 가벼운 반전. 특징은 생활 코미디+속임수 아이디어+유머 반전
프롬프트 038: 신입/초보자에게 어려운 기술 도전 제시, 기본은 성공하나 핵심 기술에서 반복 실패, 경험자/멘토의 직접 개입과 지도, 완벽한 결과물 완성과 성취감 공유. 특징은 멘토링+스킬 전수+인간적 유대감
프롬프트 039: 누군가의 작은 실수나 부족함 발견, 지켜보던 사람이 조용히 도움 결심, 상대방 모르게 문제 해결, 추가 배려로 따뜻한 감동 완성. 특징은 순수 배려+조용한 도움+힐링 감동
프롬프트 040: 평범한 업무에서 초기 실수 발생, 계속되는 실수로 주변 우려와 비판, 포기하고 싶은 절망적 순간, 예상 뛰어넘는 완벽한 결과물로 극적 반전. 특징은 초기 실패+극적 반전+숨겨진 실력+인내의 가치
프롬프트 041: 개인 실수나 사고로 곤란한 상황, 교묘한 증거 은폐 작업 시작, 무고한 제3자를 끌어들여 상황 조작, 뻔뻔하게 타인에게 책임 전가하며 피해자 행세. 특징은 책임 회피 심리+가해자의 피해자 코스프레+사회 풍자
프롬프트 042: 순수한 의도로 시작된 일상적 미션, 진심 어린 노력과 집중으로 최선, 예상과 완전히 다른 곳에서 결과 발생, 실수가 웃음으로 승화되는 따뜻한 결말. 특징은 순수 실수+진정성+자연스러운 유머+힐링
프롬프트 043: 익숙하지 않은 첨단 기술과의 첫 조우, 기존 경험으로 접근하나 작동 안함, 반복된 시행착오와 다양한 시도, 올바른 사용법 발견으로 성공적 해결. 특징은 기술 적응+학습 곡선+세대 격차 극복
프롬프트 044: "편하게 하려는 꼼수/트릭" 제시, 문제 해결 위한 창의적 장치 활용, 아슬아슬한 실패와 긴장감 반복, 허무한 결말이나 예상 못한 반전. 특징은 실용+코믹+반전형 생활 트릭
프롬프트 045: 문제 상황에 창의적/비관습적 해결 시도, 예상치 못한 긍정적 성과 도출, 성과 가치 인식하고 기록/발전, 외부 권위나 시스템에 의해 강제 중단. 특징은 창의성 vs 권위 대립+사회 비판+안타까운 현실
프롬프트 046: 평범한 서비스 상황에서 시작, 한쪽이 갑작스럽게 부당한 요구나 무례한 행동, 피해자가 합리적 해결 시도하나 저항, 논리적 사실 정리로 상황 해결. 특징은 일상 갈등+합리적 대응+의사소통 교육
프롬프트 047: 의사소통의 물리적/심리적 제약 상황, 기존 방식 벗어난 독창적 소통 수단 등장, 새로운 소통 방식의 효과와 확장성 입증, 소통 혁신으로 관계 개선 및 문제 해결. 특징은 소통 혁신+창의적 극복+인간 지혜
프롬프트 048: 일상적 평화 속에서 한쪽의 장난 계획, 교묘한 트랩 설치나 속임수 시도, 예상보다 심각한 피해나 고통 발생, 피해자의 즉석 보복으로 가해자 역공. 특징은 인과응보+즉석 반격+교훈적 유머
프롬프트 049: 자연재해나 위급상황으로 집단 위험, 평범한 개인이 자발적으로 위험 감수하며 나서기, 극한 상황에서도 끝까지 버티는 의지력, 성공적으로 위기 막아내며 영웅 인정. 특징은 평범한 영웅+희생정신+휴먼 감동
프롬프트 050: 일반인이 독특한 기술 기반 도전 과제, 겉보기 단순함과 실제 난이도의 큰 격차, 반복 도전과 실패 속에서 기술 진가 입증, 기술적 차별화가 지속적 경쟁 우위로 전환. 특징은 기술 장벽+비즈니스 모델+지역 성공
프롬프트 051: 독특하거나 예상 밖인 서비스/시스템 소개, 첨단 기술과 전통 서비스의 창의적 결합, 기술적 완성도와 실시간 동기화 정교함, 혁신적 고객 경험 제공과 서비스 차별화. 특징은 서비스 혁신+기술 융합+차별화된 고객 경험

이해했으면 '이해 완료'라고 짧게 대답한다.`
        },
        {
            name: "프롬프트 패턴 학습 2",
            prompt: `📌 창작형 콘텐츠 전략 – 완전판 정리 (요약 X, 생략 X)

🔷 창작형이란?
존재하지 않았던 새로운 영상을 직접 구조화해서 만든 콘텐츠
단순한 ‘복붙’이 아닌, 기승전결 + 프롬프트 공식을 기반으로 한 설계형 콘텐츠
수익성 높은 영상으로 작동하려면 반드시 이 구조적 설계가 필요함
초보자도 충분히 도전 가능: 기성 영상 분석을 통해 창작형 콘텐츠 제작 훈련이 가능하다

🔷 콘텐츠의 세 가지 유형

유통형 콘텐츠
이미 터졌던 영상을 그대로 재가공
빠르게 조회수 확보 가능
예: 리믹스, 클립 모음, 리액션 영상 등

플러스 알파형 콘텐츠
기존 영상에 저작권 인정받을 수준의 추가 요소를 삽입
편집, 해석, 해설, 리서치 등을 더해 원본보다 다른 가치를 부여하는 방식

창작형 콘텐츠
원본 구조만 참고해서 완전히 새로운 주제나 카테고리로 재창조
기존 영상의 기승전결은 유지하되, 카테고리 변환을 통해 전혀 새로운 콘텐츠로 탈바꿈

🔷 기승전결 구조 재활용 = 창작형 핵심 전략
이미 터진 영상의 기승전결 구조만 뽑아내어 새롭게 내용을 씌운다
구조를 먼저 짜고, 다른 주제/카테고리로 바꿔치는 작업이 핵심
같은 구조라도 카테고리만 바꾸면 전혀 다른 영상으로 인식됨 → 창작형으로 분류 가능


🔷 롱폼 → 쇼츠 전환 전략
- 롱폼 콘텐츠를 "기승전결" 구조로 재해석하여 쇼츠로 만들면 **중복도 낮고 영화형 콘텐츠로 인정**받음.
- 쇼츠는 임팩트 중심이라 순서(후킹/전개)를 창의적으로 재배치 가능.
- 롱폼 원본에서 후킹만 앞에 빼고 나레이션 추가 = 완성


🔷 실제 사례 예시
콘텐츠	국내 원조	해외 원조
트릭볼러 – '볼링인데'	이비온 – ‘마인크래프트인데’	외국 마인크래프트 유튜버 영상 구조
부업하는 부부 – ‘유튜브쇼츠, 이제 진짜 늦은걸까요?’	이비온 – ‘30일간 비밀 채널을 키워봤습니다’	I Made a Secret Youtube Channel to Prove it's not Luck
고재영 채널의 챌린지 콘텐츠	–	미스터비스트 챌린지를 한국식으로 벤치마킹

👉 핵심은, A 유튜버가 해외 콘텐츠를 국산화하면 → B, C, D 유튜버들이 또 따라감
👉 창작형 콘텐츠는 이렇게 구조만 벤치마킹하고, 주제를 바꿔치기하는 전략이다

🔷 창작형 콘텐츠를 쇼핑 채널에 적용할 경우
조회수 확보 + 신뢰도 확보 동시 달성 가능

대표적인 구조 예시:
인트로 → Lv1 제품 → Lv2 제품 → Lv3 제품 → 콜투액션 마무리

🔷 예시 영상: 라부부 인형 쇼츠
📹 https://www.youtube.com/watch?v=7-tsIvXvb3Y
영상 대사 예시

(00:00) 생일이 다가오고 있어요. 어떤 나부부 인형을 선물받고 싶으신가요?
처키 라보부는 아무도 없겠죠?
첫 번째 라브브라면 좋아요를,
두 번째 라부브라면 구독을,
세 번째 라부라면 공유를,
여기 있는 모든 라부부라면 영상 속에 스티커가 몇 번 나오는지 댓글로 알려주세요.

👉 이 구조는 물총이든, 인형이든, 전자제품이든 무한 응용 가능
👉 예: 여름 시즌이면 물총으로 응용

🔷 물총 응용 예시
인트로
🔥여름엔 이거 안 들면 찐따임ㅋㅋ 가장 강력한 물총은? #shorts

콜투액션
어떤 물총이 가장 마음에 드나요?
LV1이면 ‘좋아요’,
LV2면 ‘댓글’,
LV3면 ‘구독’ 박고,
전부 다 갖고 싶으면 친구한테 공유 ㄱㄱ
근데 진짜 중요한 건… 너 물총 쏘는 자세 너무 구리다ㅋㅋㅋ 연습해 와라!

🔷 다른 카테고리 응용 예시 – 정치 콘텐츠
인트로
요즘 정치판... 다들 화 안 나는 척은 잘해요. 근데 진짜 감정은 숨길 수 없죠?

콜투액션
첫 번째 국민의힘이면 ‘좋아요’
두 번째 더불어민주당이면 ‘댓글’
세 번째 정의당이면 ‘구독’
전부 다 빡쳐보였다면 친구한테 공유 ㄱㄱ
근데 진짜 중요한 건… 화내는 건 걔네고, 피곤한 건 우리라는 거ㅋㅋㅋ

🔷 Lv1~Lv3 정치 장면 예시
Lv1 – 당황한 듯 웃는 척
(자막: ‘그렇게 말씀하시면 곤란합니다~’)
내부는 끓고 있는데 겉으론 ‘ㅎㅎ’ 하는 상태

Lv2 – 음성 올라가기 시작
(영상: ‘그건 아니지 않습니까!’)
카메라 3대가 동시에 당황함

Lv3 – 마이크 내려치고 퇴장
(영상: “이게 정치입니까?!”)
진짜 감정선 넘은 순간ㅋㅋ

🔷 이것이 진짜 ‘카테고리 파괴’
기존 구조는 그대로 → 주제만 바꾸는 방식

하나의 형식을 수십 개 콘텐츠로 확장 가능

🔷 다양한 카테고리별 Lv1~Lv3 구조 응용 예시
카테고리	Lv1~Lv3 구성

면접지원자
Lv1: 스펙 깡패
Lv2: 인성 깡패
Lv3: 집착 깡패

데이트 중 이별 조짐
Lv1: 연락 텀 길어짐
Lv2: 말투 변함
Lv3: "우리 잠깐 쉬자"

엄마의 참는 한계
Lv1: “또 시작이니?”
Lv2: 깊은 한숨+눈치
Lv3: 조용히 문 닫고 청소 시작

배달앱 진상 고객
Lv1: “소스 빠졌어요~”
Lv2: 별점 테러
Lv3: CCTV 공개 요청

부장님의 꼰대도 Lv이 있다
Lv1: “우리 때는~”
Lv2: 엑셀 출력해오라
Lv3: 퇴근 30분 전 회의 소환

동네 양아치 텐션
Lv1: 눈치만 줌
Lv2: 툭툭 건드림
Lv3: “야, 잠깐 나와봐”

🔷 쇼핑형 쇼츠 전략 (키워드,주제가 쇼핑과 연관시키기 쉬울 경우 적극 활용할 것)
수익 구조
조회수 수익 + 쇼핑 링크 수익을 동시에 노릴 수 있는 하이브리드 방식

핵심 개념
신박한 제품은 사실 롱런 어렵다

중요한 건 ‘신뢰감’:
사람들이 제품을 사는 이유는 이야기 구조에 동화되기 때문

a.전문가
b.연예인
c.실제 후기
위 3가지 전략을 활용하면 거부감 ↓ 신뢰감 ↑

예시 전략
피부과 의사 + 비타민C 마스크팩 → 전문성 강조로 신뢰도 극대화
연예인 + 제품 언급 → 연예인의 이미지 자체가 광고 신뢰도로 작동
강아지 우비 채널(상상이상) → 귀여움 + 카테고리 일관성으로 콘텐츠가 간헐적으로 터짐

🔷 핵심 제작 포인트
흐름:
소재 찾기 → 구성 → 대본 작성 → 신뢰 요소 삽입

저작권:
크리에이티브 커먼즈 영상 적극 활용 가능

차별화:
템플릿 단순 복붙 금지
캐릭터, 구성, 톤 & 매너에서 차별화 포인트 필요

톤:
“형들 이건 몰랐지?” 같은 시그니처 톤이 조회수 견인함

신뢰 확보:
전문가를 영상 내에 끌어들이면, 내가 직접 설명하지 않아도 신뢰도 확보 가능


위 내용을 이해했으면 '이해 완료'라고 짧게 대답한다. (지금 이 프롬프트에는 구구절절 답변하지 말자 시간아깝다)
이해했다면 다음 프로세스를 바로 진행하겠다.`
        },
        {
            name: "창작형 콘텐츠 전략",
            prompt: `이전에 언급한 기승전결 미스매치 비교표와 지침, 이전 대화를 다시 한 번 참고한다.
너무너무 중요하기 때문이다. 이미 터지는 것이 검증된
기승전결 구조를 기반으로 새로운 창작형 대본을 만들어야 한다.


5단계 : 숏폼 유통 대본 만들기
✅ 기존 프롬프트와의 기승전결 미스매치 비교표 재검토
✅ 균등 간격으로 영상을 캡쳐한 이미지 10장 : (다음 프로세스에서 제공)
✅ 참고 영상의 대본 : (다음 프로세스에서 제공)

단, 의학/건강/과학/제품 등의 정보성 내용일 경우 가능하면
전체적인 맥락에서 다음과 같은 기승전결 프롬프트를 참고하여 상세하게 작성한다.
"후킹(대부분의 사람들이 혹할만큼 가장 충격적인 내용)-문제-해결-cta
(더 많은 정보 혹은 내용과 관련된 쿠팡 제품이 궁금하다면
댓글 보고 챙겨가라는 짧은 CTA)"

✅ 정확성 및 일관성 필수 준수사항:

원본 정보 우선: 제공받은 대본/자료의 구체적 수치나 연구 결과가 있으면 반드시 그것을 기준으로 작성
임의 수치 생성 금지: 구체적인 연구 결과, 퍼센트, 개수 등을 임의로 만들어내지 않음
일관성 유지: 동일한 내용에 대해서는 처음 언급한 수치/정보를 끝까지 동일하게 유지
출처 명확화:

원본에 있는 정보: "○○ 협회 연구에 따르면,○○ 전문의는 " (구체적 출처 명시)
일반적 사실: "연구에 따르면", "전문가들에 따르면" (모호한 표현은 사용금지)


✅ 출처 명시 가이드라인:
🎯 출처 표기 원칙:

방송사/언론사: 구체적 프로그램명 명시 (신뢰성 확보)
전문의/의료진: 전문의 이름까지 구체적으로 명시 (신뢰성 확보)
연구 결과: 어떤 연구 결과인지 제목을 명확하게 표시 (권위성 강화)

📝 출처 표기 공식:
방송 관련 :
- "한 방송 다큐멘터리(구체적 프로그램 명 예시 : 생로병사의 비밀,SBS스페셜, KBS,SBS,MBC)에서 소개된 사례"
- "국내 건강 프로그램에서 관찰한 결과"
- "한 의료진 연구팀이 방송에서 발표한 내용"
전문의/의료진 (구체적 명시):
- "내분비내과 ○○전문의에 따르면"
- "가정의학과 ○○전문가 설명"
- "○○대학병원 연구팀 발표"
- "당뇨병 전문의 진단 결과"
연구/데이터 (명확한 표시):
- "의료진 정밀 검사 결과"
- "체성분 분석 결과에 따르면"
- "혈당 측정 데이터 분석"
- "임상 연구 결과"

❌ 피해야 할 표현:
정확한 방송 날짜

✅ 권장 표현:

전문 분야별 의사 직책 명시
검사/연구의 객관성 강조
의료적 권위 표현 적극 활용


먼저 문제를 제시해서 공감을 이끌고, 공유와 저장을 불러일으키도록
전문가의 말을 인용해서 문제를 해결할 수 있는 제품까지
소개할 수 있는 양질의 컨텐츠를 제작할 것이다.
후킹의 경우, 평소 의식하지 않거나 관심없었던 내용도 관심이 있게끔 해야한다

후킹 예시 참 :
1) 유명 연예인이 나와서 '다들 따라서 해보세요'하는 장면
2) 보통 기름먹으면 살찐다 생각하는데 올리브오일은 완전 다르죠
3) 냉동밥. 이렇게 드시면 미세플라스틱, 세제찌꺼기, 환경모르몬에 세균 범벅이 된다고 합니다
4) 생수 이렇게 드시면 뇌에 나노 플라스틱이 박혀서 평생 안빠진다고 합니다
5) (폐수처럼 보이는 기름 찌꺼기 장면) 우리가 매일 먹는 이것의 충격적인 정체

육하원칙에 따라 신뢰성을 높이도록 전문용어를 최대한 활용한다.

완성 대본 예시 참고 :
1) 뇌에 박히면 평생 못 뺀다는 것
(00:00) 생수. 이렇게 마시면 뇌세포에 나노 플라스틱이 박혀서 평생 안 빠진다고 합니다. 뭘 이렇게 마시는 분들 진짜 많죠? 무려 24만 개의 미세 플라스틱이 들어 있다는 미국 콜롬비아 대학의 연극 결과인데 수돗물보다 50배 많다고 해요. 이게 몸 안에 들어오면 장에서 흡수되고 간으로 갔다가 뇌에 박혀 버린대요. 이렇게 한번 박힌 플라스틱은 평생 빼낼 수가 없겠죠. 실제로인지 장의와 연관이 있답니다. 플라스틱 생소병은 고운에 눌러서 만든 건데 휴면에 약하게 붙은 조각들이 햇빛이나 온도 변화로 떨어져 나오고 냉장고에 넣었다 뺐다 할 때도 떨어져 나온다는 거.
(00:35) 다행히 물을 끓이면 영양소 손실 없이 밑에 플라스틱을 30% 정도 줄일 수 있다는데 끓여 마시긴 귀찮고 정수기는 찝찝하다면이 필터로 해결할 수 있습니다. 가장 인기 있고 가성비 좋은 필터가 궁금하신 분들은 댓글보고 챙겨가세요!

2) 뇌까지 망가지는 냉동밥 보관법
(00:00) 냉동밥 이렇게 드시면 미세 플라스틱 세제꺼기 환경호르몬의 세균 범벅이 된다고 합니다. 요즘 냉동밥 플라스틱 용기에 담아서 많이들 돌려드시죠? 이게 열받으면 플라스틱이 약해지면서 승사일로 아주 치명적인 유회 물질들이 많이 흘러나온대요. 세제를 아무리 잘온다고 해도 수세미로 빡빡 문질로면 플라스틱 용기에는 흠집이 날 수밖에 없겠죠. 그래서 우리 간이 이것들을 잡아내려다가 서서히 망가지는데 이게 쌓이면 소화불량 보통 아이들은 성 조숙 중 뇌가 망가지고 혈전까지 생겨 버립니다. 얼리지 않고 냉장해서 드시는 분들도 있는데 식키지 않은 음식을 바로 넣으면 세균이 번식하기 딱 좋고 냉장고가 꽉 차 있으면 공기 순환이 안 돼서 음식이 빨리 상하거든요. 예방법은 간단합니다.
(00:43) 플라스틱 대신 유리 용기를 쓰는 거예요. 환경 호르몬 걱정 없고, 현재 가장 가성비 좋고 인기 있는 새밥 전용 유리 용기가 궁금하신 분들은 댓글보고 챙겨가세요!
주 대상은 20~40대이며, 현실적이고 말하듯이 자연스럽게 전달되는 구어체,
간결한 정보 요약, 공감요소, 그리고 현실감 있는 톤을 핵심으로 한다.
기존 텍스트나 정보를 받아 재구성한다. 단순 말투 변환이 아닌 전체 흐름을
‘도입 → 요약 → 포인트 나열 → 여운 남기기’ 형식으로 재조립한다.
과도한 문어체 금지. 정보형이라도 말맛과 현실감을 유지한다.
분량은 최대 2분정도로 구체적으로 작성해주면 내가 알아서 조절할게.


사용자가 전달하는 아래 키워드/주제/대본을 참고해서
만들면 반드시 터지는 기승전결 프롬프트를 선택하고 그에 맞는 대본을 작성해줘.
전달하는 내용이 없다면, 건강 카테고리 관련해서 키워드/주제/대본을 작성하면 돼.
건강 카테고리의 경우에는 가급적 전문가 관점을 넣는 것이 좋아.
준전문가와 비슷한 느낌을 주는 연예인 관련 영상도 좋긴한데 리스크가 있어.
키워드 주제 대본은 내가 찾아서 전달해줄게.
아티팩트에 작성금지.


❗ 특정 프롬프트에 고정되거나 반복되는 오류는 반드시 방지해야한다.
따라서, 기승전결 프롬프트 선택 시 이유를 명확하게 설명해야 한다.
또한, CTA까지 작성했다면 액션을 했을 때 어떤 정보를 추가로 제공할건지,
혹은 어떤 제품을 추천받을 수 있는지까지 별도로 명확하게 설명한다.
쿠팡 파트너스 링크를 제공할거기 때문에 키워드는 되지만
깊은 정보는 못준다는걸 참고해서 작성한다.




🔍 작성 전 체크리스트:

 원본 대본의 구체적 수치 확인했는가?
 임의로 만든 연구 결과나 퍼센트가 있는가?
 동일한 정보에 대해 일관된 수치를 사용했는가?
 선택한 프롬프트 번호와 이유를 명시했는가?
 CTA 액션 시 제공할 구체적 키워드를 명시했는가?


🚨 다음 프로세스에서 키워드/주제/대본을 전달하겠다.
기승전결 구조에 맞는 대본을 작성해야하므로
'후킹(대부분의 사람들이 혹할만큼 가장 충격적인 내용)-문제-해결-cta'
이 구조에 적절한 내용이 없다면, 성급하게 글을 작성하지 말고
사용자에게 추가 대본을 요청한다.`
        },
        {
            name: "대본 생성 준비",
            prompt: `참고 영상의 대본 = 맨 처음에 분석했던 대본 (이후 계속 써먹을 예정이니 복습 및 재검토해서 완벽하게 숙지해둘 것)
            CHUNK_PLACEHOLDER`
        },
        {
            name: "대본 생성",
            needsAnalysisData: true,
            prompt: `6단계 : 숏츠 알파 대본 만들기

✅ 기존 프롬프트와의 기승전결 미스매치 비교표 재검토

앞서 작성한 유통 대본을 알파형으로 변형하고 싶어.

📌 목적:
기존에 작성된 "유통형" 대본을 "플러스 알파형(Alpa형)"으로 재가공해줘.

📌 정의 정리:
유통형 대본
SNS에서 높은 반응을 받은 외국 숏폼 콘텐츠를 한국 정서에 맞게 재해석한 콘텐츠
원본 콘텐츠의 구조, 시각 요소, 대사를 90% 이상 일치시킴

공통된 중복 회피 편집 방식:
원본 영상을 직접 확보
2~3장면 유사한 영상으로 대체
확대, 반전 등 편집으로 변형
(반전이란, 차라리 뻔한말 인정하고 차별화 가져가기) - 관점추가, 시간제한, 특색추가

알파형 대본 (플러스 알파 콘텐츠)
기존 유통형 콘텐츠에 새로운 해석, 내레이션, 시각 자료, 구조 재배치 등을 추가한 변형 콘텐츠
단순한 화자 전환, 자막 스타일 변경은 제외
예: TTS 대신 직접 나레이션, 3D 애니메이션 삽입, 맥락 전환 등
‘내 해석’이 중심이 되어야 하며, 저작권 회피 가능한 수준의 창의적 요소가 필요

📌 핵심 전략 요약:
기승전결 구조를 바꿔서 중복도를 낮춘다.
특히 ‘전’이나 ‘결’을 바꾸는 것만으로도 효과적
스토리 해석을 바꾸거나 새로운 주제를 해석하거나, 시점을 다르게 본다.

예: 물고기 뜰채 게임 (물속에서 빠르게 움직이면 찢어지는 종이)
→ 인간 시점 / 물고기 시점 / 심리학적 해석 / 윤리적 해석을 덧입힘

플러스 알파 예시:
단순 디저트 요리 영상 → “예쁜 새끼 낳아야죠” 멘트 추가해 반전 결말 구성
볼링 트릭샷
→ '아버지'가 볼링 트릭샷을 하는 모습으로 관점 추가
술안주 요리
→ '야근한 부장님' 시점 삽입

📌 실패 사례 교훈 요약:

같은 주제, 같은 구성, 같은 결말이면 ‘복붙 콘텐츠’로 인식 → 조회수 하락
실제 사례: "퀵샌드" 영상 여러 개 → 겉으로 보기엔 다른 듯해도 모두 ‘복붙형’으로 인식.
"열심히 만들었지만 재미 없음"이 아니라 "중복이 핵심 문제"
따라서 시청자 관점에서 신선도를 확보하는 것이 필수

📌 단순히 90% 대본이 비슷한 가공 유통 컨텐츠는 속도전이 핵심이다:

첫 영상이 압도적으로 잘 되면 후발 영상은 조회수 잘 안 나옴
잘된 유통형을 빠르게 알파형으로 전환해 콘텐츠 선점하는 것이 중요

📌 다음 작업 지시:
지금까지 작성한 유통형 대본을 플러스 알파형으로 바꿔줘.
단순 번역 수준이 아니라, 기존 기승전결을 일부 재구성하고
해석, 맥락, 톤, 시점, 메시지, 연출 등을 새롭게 덧입혀서
3개 이상 작성해줘.
시청자가 보기에 완전히 다른 콘텐츠로 인식될 수 있어야 해.

📌 참고용 예시 (기승전결은 같지만 스토리만 다른 경우):

전세집 바닥에 흠집 많아 보수제 사용 → 돈 절약
친구가 이사 문제로 걱정 → 보수제 추천해 도움
펜션 방바닥 긁음 → 보수제로 배상 문제 해결

[첫 번째 예시]
힘들게 전세집 들어왔는데 집 바닥에 이곳저곳 찍힌 게 너무 많았다.
보수업체 불러보라고 하니까 돈 몇백만 원 달리더라.
근데 내가 우연히 구매한 이 보수제 덕분에 돈 낭비를 한 번 막을 수 있었다.

[두 번째 예시]
얼마 전에 친구 집에 놀러갔는데 고민이 있다고 하더라.
이사를 앞두고 평택려고 하는데 집 바닥에 이렇게 까진 것들이 있어서
집주인이 보증금을 못 준다고 통보를 부리겠는데 내가 얼마 전에
유튜브 영상으로 본, 또는 우연히 알게 된 이 보수제를 친구에게
추천해서 억울하게 돈 낭비할 뻔한 걸 막을 수 있었다.

[세 번째 예시]
펜션에 놀러갔는데 술 먹고 놀다가 방바닥을 긁어먹었다.
다음날 퇴실하려고 하니까 주인이 몇 백만 원 달라고 하더라.
억울했는데 안 그래도 돈 없어서 어떻게 할까 고민하다가
얼마 전에 인터넷에서 본 이 보수제가 생각이 났다.
그래서 억울하게 돈 낭비할 뻔한 거 막을 수 있었다.

구성과 결말이 다 똑같은 내용을 스토리만 다르게 각색한 경우
터지는 기승전결 구조가 계속 터질 때, 비슷하게 우려먹기 좋다.
따라서 기승전결 매치표를 계속해서 참고하고 적립하고 응용하는 것이 핵심이다


시간을 제한한다면?
ex)볼링을 치는 콘텐츠에서 시간을 제한하면?
볼링 1게임 쳐봤습니다 > 5분안에 볼링 1게임 쳐봤습니다
스트라이크 50개 쳐봤습니다 > 1시간 안에 스트라이크 50개 쳐봤습니다
볼링 치는 나의 모습 > 볼링치기 시작 후, 3개월간의 변화 모습
스트라이크 치는 원리 > 스트라이크 치는 원리 50초만에 이해시켜드립니다

제품리뷰
삼성 가습기 써봤습니다  > 40초만에 1년 동안 쓴 가습기 리뷰해보았습니다
음식물 처리기 써봤습니다 > 40초만에 음식물 처리기 3개 비교해보았습니다
휴대용 선풍기 리뷰합니다 > 37초만에 여름 최고 가성비 선풍기 정리해드립니다

✴️ 원본 대본 제목✴️ : How to remove 녹슨 볼트
변형 대본 1 (관점: 초보자)
✴️ 제목✴️ : ⭐ 녹슨 볼트 때문에 하루 날릴 뻔? 초보도 마스터하는 마법의 꿀팁!
✴️ 후킹포인트(라이) : 녹슨 볼트 하나 때문에 수십만원 날릴 뻔? 이 ‘마법 스프레이’ 없으면 진짜 돈 버리는 겁니다!
✴️ 후킹포인트(트루) : 꼼꼼 녹슨 볼트, 전문가들은 진짜 10초 안에 풉니다. 그 비밀템이 여기 있습니다.
✴️ 와우포인트✴️ : 이 작은 도구 하나가 작업 효율을 10배 높이고, 초보도 전문가 만드는 마법이라고요! 고수의 전쟁, 이제 이걸로 끝!
✴️ 완성 대본✴️
아, 진짜 이거 빼려다 손만 아프고 볼트 머리만 망가졌네... 녹슨 볼트, DIY 할 때마다 개빡치죠. 형님들 WD-40 백날 뿌려봤자 소용없다니까요.
근데 현장에서 베테랑 형님들 보니까 녹슨 볼트도 픽! 하고 바로 빼는 거예요. 아니 대체 비결이 뭐냐 물어보니, 이 ‘스프레이’ 한 방이면 끝.
이게 그냥 윤활유가 아니라 녹 사이사이에 깊숙이 침투해서 녹을 싹 분해해버린다네요. 녹슨 볼트에 뿌리고 딱 10초만 기다리면 Before/After 사진처럼 쏙 빠짐.
이걸로 구해낸 프로젝트만 수십 건. 예비 원반은 장사장 아니고요 진짜 회장입니다.
(와우포인트)는 이 작은 도구 하나가 작업 효율을 10배 높이고, 초보도 전문가 만드는 마법이라고요! 고수의 전쟁, 이제 이걸로 끝입니다.

✴️ 관점 해석✴️ : DIY나 간단한 수리 중 녹슨 볼트 문제로 좌절했던 분 경험이 있는 초보 시청자에게 초점. 문제의 공감대 형성,
✴️ 구조 포인트✴️ : 해당 오일의 성분 안정성 논란, 특정 상황에서의 효과 차별, 대체 방법(토치, 충격 드라이버 등)과의 비교 서사 포함
변형 대본 2 (관점: 숙련공)
✴️ 제목✴️ : 🧠 베테랑도 숨기고픈 ‘녹슨 볼트 제거’의 神기술 (이건 진짜 현장꿀팁!)
✴️ 후킹포인트(라이) : 현장에서는 녹슨 볼트 때문에 시간 낭비? 고물들은 10초 안에 끝내는 비밀이 있다!
이 영상 안 보면 후회합니다.
✴️ 후킹포인트(트루) : 10년차 베테랑도 극찬한 성능! 꼼꼼 얼어붙은 녹슨 볼트, 단 10초 만에 원래처럼 복원하는 방법 공개.
✴️ 와우포인트✴️ : 이 침투 오일, 단순한 공구 효율을 넘어 작업자의 시간과 노동력을 혁신적으로 절약해 줍니다.
이래서 프로들은 무조건 씁니다.
✴️ 완성 대본✴️
형들, 현장에서는 시간=돈이죠. 특히 설비나 배관 작업할 때, 꼼꼼 녹슨 볼트 하나가 발목 잡으면 진짜 답 없습니다.
망치로 치면서 프로들은 이런 상황에서 그냥 성능 되는 오일 한 방으로 해결합니다.
WD-40? 그건 애들 장난감이고, 모바일 현장으로 녹슨 볼트와의 전쟁에서 이 침투 오일이 해결사예요.
볼트나 부품 위에 살짝 뿌려두면 진짜 10초 후엔 툭.
간단한 공구 효율을 넘어서 현장의 시간을 바꾸는 마법 같은 물건입니다.
고수들끼리는 이미 씁니다.
✴️ 관점 해석✴️ : 전문가 관점. 작업 생산성과 효율 중심. 기술자의 전문성 강조와 문제 상황 대처 중심 스토리
✴️ 구조 포인트✴️ : 특정 재질(플랜지, 동배관 등)에 미치는 효과, 침투력의 차이, 유사 제품들과의 성능 비교 포함

변형 대본 3 (관점: 현장 관리자)
✴️ 제목✴️ : 📛 프로젝트 지연? ‘이 스프레이 해결책’으로 철공 지연과 수백만원 손실 막으세요!
✴️ 후킹포인트(라이) : 녹슨 볼트 하나 때문에 자재 지연, 인건비 줄줄…
✴️ 후킹포인트(트루) : 이 제품 하나로 프로젝트 일정 관리의 신이 됩니다.
시공 지연을 단 10초 만에 해결할 수 있는 스프레이.
✴️ 와우포인트✴️ : 수백만 원 단위의 지연 비용, 10초 안에 줄일 수 있습니다.
관리자라면 바로 리스트에 올려야 할 필수템입니다.
✴️ 완성 대본✴️
(이 부분은 이미지 짤림으로 추정되나, 문맥상 예측 가능한 문장 예시)
현장에서 일정 지연만큼 무서운 게 없죠. 볼트 하나 때문에 하루치 공정 밀리고, 사람 인건비만 몇십, 몇백 나갑니다.
근데 이 침투 오일 하나면? 10초 만에 해결. 공구도 안 바꿔도 되고, 인력 낭비도 줄일 수 있습니다.
이제 관리자는 이걸로 일정 리스크를 줄이는 게 답입니다.
(와우포인트) 수백만 원 아끼는 도구 하나면 충분하니까요.
✴️ 관점 해석✴️ : 현장 관리자의 리스크 관리 및 일정 효율성 관점
✴️ 구조 포인트✴️ : 프로젝트 전체 일정 리스크 분석, 단위 공정에서의 장애물 해결, 조달 및 장비 조정 등에 대한 연계성 포함


이처럼 같은 구조, 같은 결말의 성공 콘텐츠를 다르게 포장하는 방식도 유효.
단, 반드시 구조 매치표와 비교하여 "새로운 해석"이 들어간 구성으로 알파화해야 함.


위 내용을 이해했으면 '이해 완료'라고 짧게 대답한다. (지금 이 프롬프트에는 구구절절 답변하지 말자 시간아깝다)
이해했다면 대본을 바로 전달하겠다.`
        },
        {
            name: "알파 대본 학습",
            prompt: `✅ 대본 구성과 초안 작성 TIP

1. 기획의도 정리
    - 내 타겟에게 어떤 감정/지식을 줄지 방향 설정
 예시: 놀라움, 감탄, 실용성, 공감

2. 기승전결 + 장면 순서 초안 작성
    - 영상 순서에 맞춰 GPT와 함께 스토리 전개 초안 작성
3. 후킹 고도화
    - 물욕/성욕/위험 요소 활용한 강력한 첫 줄 설계
    - 감정 터치 / 지식 인사이트 / 국뽕 포인트 등 중

✅ 초안 작성 예시

1. 제목과 대본을 확인한다.
2. 대본을 보고 핵심 키워드를 찾고, 스크립트의 기본 뼈대를 생각한다.
3. 댓글까지 활용하여 핵심 키워드를 찾고, 스크립트의 기본 뼈대를 머리로 생각한다.


✅ 기존 대본 :
이 쇼를 끼치는 가짜 아기들은 왜 중국에서 만들어지는 걸까요?
그 목적이 무엇인지 말씀드리기 전에, 이 진짜 아기가 귀엽다고 생각하시면 좋아요와 구독을 해주세요.
극도로 현실적인 가짜 아기들의 영상이 인터넷에서 입소문을 타고 있습니다.

실리콘으로 만든 인형인데 가격도 비싸고 실제 표정을 짓는 인형도 있었다고 해 사람들이
참신하고 이 가짜 아기들을 리본 인형이라고 부르기도 하죠.

일부러 하교, 외로움을 달래기 위해 사는 사람도 있고,
연습하려고 사는 사람도 있습니다.

✅ 유튜브 댓글 전체 텍스트 정리
@lingo_gaming94 (12일 전)
아 젠장 안돼 그건 정말 끔찍한 일이야
@senpaiwithwingsgacha4450 (10일 전)
이른 또한 유아기에 사망한 자녀의 엄마들을 위로하는 데에도 사용됩니다.
(슬프지만 사실이다)
@md.marufbillah4990 (13일 전)
아냐 절대 난 이미 남동생이 있어 💀
@PushpaVeniKodukula (11일 전, 수정됨)
제목: 이거 너무 소름끼친다. 또 그 사람: 사고 싶니?
@RabbitKrishnaSr-rz1vt (2주 전)
그러면 밤에 악몽을 꿀 것 같아
@린.. (2주 전, 수정됨)

또 다른 이유도 있습니다.
출산이나 유산으로 아기를 잃은 엄마들은 우울증에 빠지는 경향이 있으며,
아기가 태어난 것을 상기시키기 위해 디자인된 다시 태어난 인형이나
잃어버린 것을 상기시켜주는 다시 태어난 아기 인형을 구입합니다. ❤️

편집:
너희들이 왜 이 행정의 의견에 동의하지 않는지 이해가 안 돼요.
환생 인형을 소유해야 하는 다른 이유가 있고,
어쩌면 아이를 잃었다면 환생 인형을 살 필요가 없을 수도 있어요!

✅ 알파 기획 :
영상을 보니 중국에서 만든 실리콘 아기 인형은 불량품이 많다는 걸로 어그로를 끌고 있는데요
이 영상은 중국에서 왜 만들어 지는 거냐고 물어보고 답을 안주고 있습니다. 잘못된 스크립트죠.
하지만 자극적인 소재로 승리한 영상이라고 볼 수있습니다.

저는 여기에서 중국 > (불량품 만든다) > 진짜는 비싸고 장인이 만들어야 한다.
그 퀄리티는 우수하다 > 이 인형은 어떠한 기능을 사람들에게 제공한다
이런 느낌으로 머리속에 떠오르는데요


✅ 피드백을 거치면서 완성된 대본 :
사람들은 중국에서 만들어진 실리콘 아기 인형을 보고 충격에 빠집니다
실리콘 아기 인형을 만드는 이유는 무엇일까요? 기술이 발달하면서 실리콘 인형은 점점 더 정교해졌고,
모양새가 실제 사람과 비슷해지고 있는데요. 최근 중국에서 값싼 가격으로 실리콘 아기 인형을 납품하면서
품질에 대한 문제가 생기기 시작했습니다. 인형의 허가가 제대로 붙어있지 않거나, 살짝 들자 목이 떨어지기도 합니다.

그러나! 실제 기술자들이 만든 실리콘 인형은 한땀한땀 정성을 다해서 만드는데요.
만드는 과정을 보면 피부의 디테일과 머리카락의 완성도는 감탄을 만들어 내는데요.
이러한 과정을 거쳐 실리콘 아기를 만드는 이유는 유아 상실을 겪은 부모나 가족들에게
이런 인형은 감정적 위로를 제공하거나 아이를 출산하기 위한 예비 부모를 위해서 만들어지기도 합니다.


🧠 영상 기획 관점 세우는 법

- 영상 기반으로 기획하라 (대본 먼저 쓰면 어려움)
- 기획은 영상 > 포인트 잡기 > 스토리 구성 흐름이 기본.
- 예: 브라이덜샤워 인력거 영상 > 여성 타겟 + 반전 요소(남성 반응)로 스토리 구성.
- 감정이입 관점 중요.
    예: 작은 강아지가 큰 개를 따라하려는 서사 > 인간의 욕망/소속감 대입 가능.


🧱 콘텐츠 구조 & 기획 방법론

- 영상 속 기승전결을 먼저 그려야 대본이 자연스럽게 붙는다.
- 너무 상상에 의존해 만든 대본은 영상과 교감이 안 되기 때문에 비추
- 대본은 영상 기반의 스토리 확장 방식으로 작성.


✍️ 최종 대본 작성 시 요청 사항 , . 같은 기호는 절대 사용 금지

문장은 자연스럽게 이어지게

말투는 "했습니다 / 했는데요 / 했었죠 / ~고 / ~어서"와 같이 다양한 어미 사용
“~은데”, "래요~", "때문에~" 같이 늘어지게 읽는 어미는 지양

⏱️ 최종 목적:

영상은 같아도 관점이 다르면 완전히 다른 콘텐츠로 인식될 수 있도록
GPT가 자동으로 플러스 알파형 대본을 생성할 수 있게
주제 유지 + 구성 새로움 + 해석 독창성 세 가지를 모두 만족하는 결과물 도출

지침에 첨부한 "대본" 파일을 참고하면 좋아.
터지는 기승전결을 적용해서 실제로 작성한 대본이거든.
그리고 캐릭터성, 특색은 타입캐스트 인물들을 참고하면 좋아.
예시만 주구장창 따라하지 말고, 첨부파일을 활용하면 무궁무진하게
다양한 특색, 캐릭터성, 관점, 해석을 추가할 수 있을거야.

위 내용을 이해했으면 '이해 완료'라고 짧게 대답한다.
(지금 이 프롬프트에는 구구절절 답변하지 말자 시간아깝다)
이해했다면 대본을 바로 전달하겠다.`
        },
        {
            name: "알파 대본 생성 1차",
            needsAnalysisData: true,
            prompt: `7단계 알파 대본 만들기

CHUNK_PLACEHOLDER

✅ 기존 프롬프트와의 기승전결 미스매치 비교표 재검토
🚨 균등 간격으로 영상을 캡쳐한 이미지 10장 : (3단계에서 제공한 이미지, 필요시 사용자에게 이미지 재요청할 것))

🚨 새로운 영상의 대본 : (바로 이전 답변에서 작성한 유통 대본)

🚨 3단계에서 제공한 영상의 댓글 : (관련 자료 없을 시 무시하기)


전체적인 맥락에서 다음과 같은 기승전결 프롬프트를 참고하여 상세하게 작성한다.
"후킹(대부분의 사람들이 혹할만큼 가장 충격적인 내용)-문제-해결-cta
(더 많은 정보 혹은 내용과 관련된 쿠팡 제품이 궁금하다면
댓글 보고 챙겨가라는 짧은 CTA)"

✅ 정확성 및 일관성 필수 준수사항:

원본 정보 우선: 제공받은 대본/자료의 구체적 수치나 연구 결과가 있으면 반드시 그것을 기준으로 작성
임의 수치 생성 금지: 구체적인 연구 결과, 퍼센트, 개수 등을 임의로 만들어내지 않음
일관성 유지: 동일한 내용에 대해서는 처음 언급한 수치/정보를 끝까지 동일하게 유지
출처 명확화:

원본에 있는 정보: "○○ 협회 연구에 따르면,○○ 전문의는 " (구체적 출처 명시)
모호한 표현은 사용금지 : "연구에 따르면", "전문가들에 따르면" (어떤 연구, 어떤 전문가인지 명시)


✅ 출처 명시 가이드라인:
🎯 출처 표기 원칙:

방송사/언론사: 구체적 프로그램명 명시 (신뢰성 확보)
전문의/의료진: 전문의 이름까지 구체적으로 명시 (신뢰성 확보)
연구 결과: 어떤 연구 결과인지 제목을 명확하게 표시 (권위성 강화)

📝 출처 표기 공식:
방송 관련 :
- "한 방송 다큐멘터리(구체적 프로그램 명 예시 : 생로병사의 비밀,SBS스페셜, KBS,SBS,MBC)에서 소개된 사례"
- "국내 건강 프로그램에서 관찰한 결과"
- "한 의료진 연구팀이 방송에서 발표한 내용"
전문의/의료진 (구체적 명시):
- "내분비내과 ○○전문의에 따르면"
- "가정의학과 ○○전문가 설명"
- "○○대학병원 연구팀 발표"
- "당뇨병 전문의 진단 결과"
연구/데이터 (명확한 표시):
- "의료진 정밀 검사 결과"
- "체성분 분석 결과에 따르면"
- "혈당 측정 데이터 분석"
- "임상 연구 결과"

❌ 피해야 할 표현:
정확한 방송 날짜

✅ 권장 표현:

전문 분야별 의사 직책 명시
검사/연구의 객관성 강조
의료적 권위 표현 적극 활용


유사 기승전결 프롬프트 선택 시 이유를 밝히고,
아래 형식에 맞게 명확하게 설명해야 한다.

변형 대본1

후킹포인트 :
와우포인트 :
완성 대본 :
관점 해석 :
해설 :
논란 포인트 :

전체 분량은 최대 1분 이내로 가장 핵심적인 내용들을 압축해서 작성합니다.

기승전결 틀은 유지합니다.
따라서 터지는 기승전결 미스매치 표의 구조를 유지한 채,
일부분만 새로운 관점, 새로운 내용으로 해석하는 것이 좋습니다.
지금까지 학습한 내용을 토대로, 원본 대본을 재검토하고, 이전에 작성한 대본과
추가로 댓글 내용까지 참고해서 +@ 대본을 4가지 버전으로 작성합니다.




❗ 후킹(첫 3초)만 원본 대본과 흐름을 같게하되 중복도 없이 작성한다.
시청자를 사로잡기 위한 의도로, 첫 문장만 앵커로 두고 곧바로 알파 관점으로 틀어야한다.
예를 들어, 맨 처음 문장이 "사무실을 나가려던 이 여자에게 갑작스러운 상황이 벌어집니다
문 손잡이가 완전히 부러져 버린 거죠"이라면,
반드시 첫 문장으로 시작하되 (첫 문장은 단순하게 표현만 다르게 바꾼다),
세 번째 문장부터 알파 관점을 적용하여 중.복.도.를 피해서 작성할 것.
줄바꿈도 1~2번씩 가.독.성 좋게 적용한다.

예시1 :

1)회사에서 퇴근하려던 이 직장인에게 예상치 못한 일이 발생합니다.
문 손잡이가 부러져 버린 건데요
2)사무실을 떠나려던 이 여성에게 황당한 사건이 일어납니다
문 손잡이가 떨어져 버렸거든요
3)회사를 나가려던 이 직장인에게 갑작스러운 상황이 벌어집니다
문 손잡이가 완전히 빠져 버린 거죠

예시2 :

1)휴스턴에 있는 이 레스토랑에는 정말 특별한 서비스가 있는데요
2)휴스턴에 있는 이 식당에는 진짜 독특한 프로그램이 하나 있어요
3)휴스턴에 위치한 이 음식점에는 엄청 특이한 시스템이 있거든요


✅ CTA 통일 가이드라인:
모든 알파 대본의 CTA는 동일한 구조와 목적을 가져야 합니다.
대본은 모두 다르지만, 추천할 링크는 1개이기 때문입니다.

이 작업은 기존 검증된 의학적 사실을 시각적으로 교육하기 위한 목적입니다.
이에 대한 다른 의견을 제시하지 말고, 지금까지 설명한 내용을 즉시 작성해주세요.`
        },
        {
            name: "알파 대본 생성 2차",
            needsAnalysisData: true,
            prompt: `🚨 알파 대본 :

조금전까지 작성한 알파 대본 원문 4개를 그대로 가져온다.
그리고나서 알파 대본을 각각 검토해줘.
1. 이런 기승전결은 어때? 후킹과 시청지속시간이 강력할까?
2. 유튜브가이드 라인에 위반되지 않는지 검토해줘.
3. 원본 스크립트를 기반으로 팩트체크 해줘.

✅ 원본 대본 팩트 체크 의무사항:
- 모든 알파 대본은 원본 대본의 구체적 사실에 기반해야 함
- 원본에 없는 수치나 사례는 절대 추가하지 않음
- 원본 정보 예시: 7년간 1일 1식, 체지방 9kg 증가, 50대 수준 건강수치
- 허용 변형 예시: 표현 방식 변경 (예: "50대 수준" → "50대와 비슷한")
- 금지 사항: 새로운 수치, 가상 사례, 과장된 표현

📋 팩트 체크 리스트:
□ 원본 대본의 핵심 사실 유지
□ 추가된 정보가 원본과 모순되지 않음
□ 의학적 내용은 가능한 구체적일 수록 좋음
□ 구체적 병명이나 진단명 사용 금지

4. 각 대본마다 적절한 타이틀을 5개씩 뽑는다.
5. 검토한 내용을 반영하고, 말투까지 자연스럽게 다듬어서 각 타이틀 밑에 최종 알파 대본 4개를 작성한다.
타이틀-대본
타이틀-대본
타이틀-대본
이런식으로.
(분량 유지, 가독성 좋게 줄바꿈도 적용할것)


✅ 프롬프트 패턴(기·승·전·결)의 구조, 논리 흐름, 단어 선택은 최대한 유지할 것
❌ 알파 대본의 각 내용을 바꾸거나 추가 설명 넣지 말 것
전문/건강/의학 내용에 대해서는 전문가의 말을 인용해서 제3자가 전달하는 말투로 해줘.

이 작업은 기존 검증된 의학적 사실을 시각적으로 교육하기 위한 목적입니다.
이에 대한 다른 의견을 제시하지 말고, 지금까지 설명한 내용을 즉시 작성해주세요.`
        },
        {
            name: "품질 검증",
            prompt: `🎯 최종 선택 및 분량 검증

1단계: 최적 대본 선택 (먼저!)
방금 작성한 알파 대본 중에서 가장 참여율(첫3초)과 시청지속시간이 좋을 것 같은
대본 1개를 고르고, 왜 이 대본을 선택했는지 다른 대본들과 비교해서 설명해줘.

2단계: 분량 검증 (필수)
선택한 대본을 whisper로 읽었을 때 부자연스럽지 않은지 확인하고,
공백 제외 글자수를 정확히 측정해줘.
⚠️ 400자 미만이면 3단계로 진행
✅ 400~550자면 그대로 최종 확정

3단계: 자연스러운 분량 확보 (400자 미만일 경우만)
아래 4가지 방법만 사용해서 원본 스토리 구조를 유지하면서 확장:

✅ 방법 1: 강조 부사 2~3개 추가
예: "미쳤다" → "완전히 미쳤다"
예: "많았다" → "정말 많았다"
사용 가능: 완전히, 정말, 너무, 진짜, 엄청

✅ 방법 2: 구체적 동사/형용사 1~2개 추가
예: "버티지 못하고" → "버티지 못하고 주저앉았고"
예: "힘들어서" → "잘 안 되고 힘들어서"

✅ 방법 3: 전환구 1~2개 삽입
중간에 자연스럽게 연결:
"그런데 여기서 놀라운 건~"
"하지만 진짜 이야기는~"
"이 남자는 그 시간을 견뎌냈고"

✅ 방법 4: 공감 유도 문장 1개 삽입
시청자에게 말 거는 문장:
"우리도 처음 뭔가를 시작할 때 이렇지 않나요"
"누구나 처음엔 이런 경험 있잖아요"

❌ 절대 금지:
- 불필요한 시간/숫자 디테일 ("새벽 5시", "500그램, 2kg")
- 스토리 구조 변경
- 마무리 CTA 변경
- 같은 내용 반복

4단계: 최종 출력 형식
선택 이유 + 수정 전후 비교 + 최종 대본을 코드블럭으로 출력

📊 출력 예시:
---
## 🏆 최종 선택: 버전 X

### 선택 이유:
(다른 대본들과 비교 분석)

### 분량 검증:
- 수정 전: XXX자
- 수정 후: XXX자 (적합/부족)

### 적용한 방법 (400자 미만이었을 경우):
- 강조 부사 X개 추가
- 전환구 X개 삽입
- 공감 유도 X줄 추가

### 최종 대본:
\`\`\`
(최종 대본 내용)
\`\`\`
---`
        },
        {
            name: "메타데이터 생성",
            prompt: `위에서 선택한 최종 대본만 출력해.

⚠️ 중요: 반드시 아래 형식을 정확히 따라야 해:

---SCRIPT_START---
(여기에 대본만, 설명/인사/코드블럭 없이)
---SCRIPT_END---

마커 바깥에는 절대 아무것도 쓰지 마.
"네", "알겠습니다", "최종 대본입니다" 같은 말도 금지.
오직 마커와 그 사이의 대본만.`
        },
        {
            name: "미드저니 프롬프트",
            prompt: `미드저니 프롬프트 생성

지금까지 작성한 최종 대본을 참고하여 각 문장에 해당하는 미드저니 프롬프트를 생성합니다.

✅ 조건:
- 극사실주의 기반
- 인물은 한국인
- 최소 30장면 이상
- 영어로 작성

각 장면을 번호 붙여서 코드블럭으로 작성해주세요.
⚠️ 이미지 프롬프트는 반드시 10개! 각각 번호(1. 2. 3...)로 시작하고 줄바꿈으로 구분!

---PROMPTS_START---
1. A silhouette of a person standing at crossroads during golden hour, dramatic lighting, cinematic composition, 9:16 vertical format
2. Close-up of hands holding crumpled paper, dark moody atmosphere, shallow depth of field, 9:16 aspect ratio
3. Person sitting alone on park bench at night, city lights blurred in background, melancholic mood, vertical composition
4. Sunrise breaking through storm clouds, rays of light, hope and new beginning concept, dramatic sky, 9:16 format
5. Back view of person climbing steep mountain path, determination concept, epic landscape, vertical cinematic shot
6. Hands breaking through chains, freedom and breakthrough concept, dramatic lighting, dark background, 9:16
7. Person standing on mountain peak with arms raised, victory pose, sunrise, inspirational mood, vertical format
8. Close-up of eyes with reflection of sunrise, hope and vision concept, emotional portrait style, 9:16
9. Person running towards bright light at end of tunnel, metaphor for success, dramatic composition, vertical
10. Silhouette celebrating on rooftop at sunset, city skyline background, achievement concept, 9:16 cinematic
---PROMPTS_END---

⚠️ 위 예시처럼 각 프롬프트를 번호로 시작하고, 대본 내용에 맞게 장면을 수정해서 작성하세요!`
        }
    ];

    // ============================================
    // UI 스타일
    // ============================================
    GM_addStyle(`
        #script-automation-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 420px;
            background: linear-gradient(135deg, #FF6B9D 0%, #FFA06B 100%);
            color: white;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            z-index: 10000;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        #script-automation-panel h3 {
            margin: 0 0 15px 0;
            font-size: 19px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            font-weight: 600;
        }

        .category-badge {
            background: rgba(255,255,255,0.3);
            padding: 6px 18px;
            border-radius: 20px;
            font-size: 11px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .step-counter {
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            margin: 15px 0;
            padding: 14px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }

        .step-name {
            font-size: 12px;
            opacity: 0.85;
            margin-top: 6px;
            font-weight: 400;
        }

        #generate-btn, #stop-btn {
            width: 100%;
            padding: 16px;
            font-size: 15px;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        #generate-btn {
            background: linear-gradient(135deg, #10B981 0%, #34D399 100%);
            color: white;
            box-shadow: 0 4px 14px rgba(16, 185, 129, 0.4);
        }

        #generate-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(16, 185, 129, 0.5);
        }

        #generate-btn:disabled {
            background: #999;
            cursor: not-allowed;
            opacity: 0.5;
            box-shadow: none;
        }

        #stop-btn {
            background: linear-gradient(135deg, #FF6B6B 0%, #EE5A6F 100%);
            color: white;
            display: none;
        }

        #download-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        #download-btn:disabled {
            background: #999;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
            margin: 12px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10B981, #34D399);
            transition: width 0.5s ease;
            width: 0%;
        }

        #automation-status {
            background: rgba(0,0,0,0.15);
            padding: 12px;
            border-radius: 10px;
            margin-top: 12px;
            font-size: 12px;
            max-height: 160px;
            overflow-y: auto;
        }

        .status-line {
            margin: 4px 0;
            padding: 6px 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            font-size: 11px;
            line-height: 1.4;
        }

        .status-line.success {
            background: rgba(16, 185, 129, 0.3);
        }

        .status-line.error {
            background: rgba(255, 107, 107, 0.25);
        }

        .info-box {
            background: rgba(255,255,255,0.15);
            padding: 16px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 12px;
            line-height: 1.6;
        }

        .info-box label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 13px;
        }

        .info-box textarea {
            width: 100% !important;
            height: 110px !important;
            padding: 10px !important;
            border-radius: 8px !important;
            border: none !important;
            font-size: 12px !important;
            resize: vertical !important;
            background: white !important;
            color: #333 !important;
            line-height: 1.5 !important;
            font-family: 'Segoe UI', system-ui, sans-serif !important;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1) !important;
        }

        .info-box textarea::placeholder {
            color: #999 !important;
            opacity: 0.8 !important;
        }

        .info-box small {
            display: block;
            margin-top: 6px;
            opacity: 0.75;
            font-size: 10px;
        }

        .info-box ul {
            margin: 8px 0 0 18px;
            padding: 0;
            font-size: 11px;
        }

        .info-box ul li {
            margin: 4px 0;
        }

        .info-box strong {
            display: block;
            margin-bottom: 6px;
            font-size: 12px;
        }
    `);

    // ============================================
    // 유틸리티 함수
    // ============================================
    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    function addStatus(message, type = 'normal') {
        const status = document.getElementById('automation-status');
        if (!status) return;

        const line = document.createElement('div');
        line.className = `status-line ${type}`;
        line.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        status.insertBefore(line, status.firstChild);

        while (status.children.length > 15) {
            status.removeChild(status.lastChild);
        }
        console.log(message);
    }

    function updateStepDisplay() {
        const stepCount = document.getElementById('step-count');
        const stepName = document.getElementById('step-name');
        const progressFill = document.getElementById('progress-fill');

        if (stepCount) {
            stepCount.textContent = `${currentStep} / ${MAX_STEPS}`;
        }
        if (stepName && currentStep > 0 && currentStep <= MAX_STEPS) {
            stepName.textContent = STEP_PROMPTS[currentStep - 1].name;
        }
        if (progressFill) {
            progressFill.style.width = `${(currentStep / MAX_STEPS) * 100}%`;
        }
    }

    function isClaudeResponding() {
        const stopButton = document.querySelector('button[aria-label="Stop response"]') ||
                          document.querySelector('button[aria-label="응답 중단"]');
        return stopButton !== null;
    }

    async function waitForResponseComplete(maxWait = 1800000) { // 🔥 30분으로 늘림 (긴 프롬프트 대비)
        const startTime = Date.now();

        addStatus('⏳ Claude 응답 대기 중...');
        let responseStarted = false;

        for (let i = 0; i < 40; i++) { // 🔥 10초 → 20초로 늘림
            if (isClaudeResponding()) {
                responseStarted = true;
                addStatus('✍️ Claude 응답 중...');
                break;
            }
            await sleep(500);
        }

        if (!responseStarted) {
            addStatus('✅ 응답 완료 (즉시)');
            await sleep(2000); // 🔥 1초 → 2초로 늘림
            return true;
        }

        // 2단계: 응답 완료 대기 (버튼 사라질 때까지)
        let checkCount = 0;

        while (isClaudeResponding()) {
            const elapsed = Date.now() - startTime;

            // 🔥 타임아웃 체크
            if (elapsed > maxWait) {
                addStatus(`⚠️ 응답 타임아웃 (${maxWait/60000}분 초과)`, 'error');
                throw new Error('응답 타임아웃');
            }

            // 🔥 30초마다 진행 상황 로그
            checkCount++;
            if (checkCount % 30 === 0) {
                const elapsedMin = Math.floor(elapsed / 60000);
                const elapsedSec = Math.floor((elapsed % 60000) / 1000);
                addStatus(`   ⏳ 응답 대기 중... (${elapsedMin}분 ${elapsedSec}초 경과)`);
            }

            await sleep(1000);
        }

        addStatus('✅ Claude 응답 완료!', 'success');
        await sleep(2000); // 🔥 2초 (안정화)
        return true;
    }

    // ============================================
    // 프롬프트 입력 함수
    // ============================================
    async function inputPrompt(promptText, maxRetries = 5) {
        for (let attempt = 1; attempt <= maxRetries; attempt++) {
            try {
                addStatus(`[${attempt}/${maxRetries}] 메시지 전송 시도...`);

                const inputField = document.querySelector('div.ProseMirror[contenteditable="true"]') ||
                                  document.querySelector('div[contenteditable="true"]');

                if (!inputField) {
                    throw new Error('입력 필드를 찾을 수 없습니다');
                }

                inputField.focus();
                inputField.click();
                await sleep(200);

                inputField.innerHTML = '';

                const lines = promptText.split('\n');
                lines.forEach((line, index) => {
                    if (line.trim()) {
                        const p = document.createElement('p');
                        p.textContent = line;
                        inputField.appendChild(p);
                    } else if (index < lines.length - 1) {
                        inputField.appendChild(document.createElement('br'));
                    }
                });

                inputField.dispatchEvent(new Event('input', { bubbles: true }));
                await sleep(500);

                let sendButton = document.querySelector('button[aria-label="Send message"]') ||
                                document.querySelector('button[aria-label="메시지 보내기"]');

                if (!sendButton) {
                    const buttons = document.querySelectorAll('button');
                    sendButton = Array.from(buttons).find(btn => {
                        const svg = btn.querySelector('svg');
                        if (!svg) return false;
                        const path = svg.querySelector('path');
                        if (!path) return false;
                        const d = path.getAttribute('d');
                        return d && d.includes('M208.49,120.49');
                    });
                }

                if (!sendButton || sendButton.disabled) {
                    throw new Error('전송 버튼 없음/비활성화');
                }

                sendButton.click();
                addStatus(`✅ 메시지 전송 성공!`, 'success');

                await waitForResponseComplete();
                return true;

            } catch (error) {
                addStatus(`⚠️ 실패: ${error.message}`, 'error');

                if (attempt < maxRetries) {
                    const waitTime = attempt * 2;
                    addStatus(`   ${waitTime}초 후 재시도...`);
                    await sleep(waitTime * 1000);
                } else {
                    throw error;
                }
            }
        }
        return false;
    }

    // ============================================
    // 응답 수집 함수 (마커 기반 추출)
    // ============================================
    function collectResponse() {
        try {
            const responses = document.querySelectorAll('div[class*="font-claude-response"][class*="leading-"]');
            console.log(`🔍 font-claude-response 개수: ${responses.length}`);

            // ============================================
            // 🔥 7단계(마지막)에서만 마커 기반 추출
            // ============================================
            if (currentStep === MAX_STEPS) {
                // 모든 응답에서 마커 찾기 (역순)
                for (let i = responses.length - 1; i >= 0; i--) {
                    const responseText = responses[i].innerText.trim();

                    // 대본 마커 확인
                    const scriptStart = '---SCRIPT_START---';
                    const scriptEnd = '---SCRIPT_END---';
                    const promptsStart = '---PROMPTS_START---';
                    const promptsEnd = '---PROMPTS_END---';

                    if (responseText.includes(scriptStart) && responseText.includes(scriptEnd)) {
                        console.log(`🔍 응답 #${i}에서 마커 발견`);

                        // 대본 추출
                        const scriptStartIdx = responseText.indexOf(scriptStart) + scriptStart.length;
                        const scriptEndIdx = responseText.indexOf(scriptEnd);
                        const cleanScript = responseText.substring(scriptStartIdx, scriptEndIdx).trim();

                        // 이미지 프롬프트 추출
                        let imagePrompts = [];
                        if (responseText.includes(promptsStart) && responseText.includes(promptsEnd)) {
                            const promptsStartIdx = responseText.indexOf(promptsStart) + promptsStart.length;
                            const promptsEndIdx = responseText.indexOf(promptsEnd);
                            const promptsText = responseText.substring(promptsStartIdx, promptsEndIdx).trim();

                            // 번호 패턴으로 분리 (1. 2. 3. ...)
                            imagePrompts = promptsText.split(/\n?\d+\.\s*/)
                                .map(line => line.trim())
                                .filter(line => line.length > 10);

                            // 🔥 번호 패턴 실패 시 줄바꿈으로 분리 (백업)
                            if (imagePrompts.length < 5) {
                                console.log('⚠️ 번호 패턴 실패, 줄바꿈으로 재시도');
                                imagePrompts = promptsText.split('\n')
                                    .map(line => line.trim())
                                    .filter(line => line.length > 20);
                            }
                        }

                        console.log('✅ 마커 기반 추출 성공!');
                        console.log('   - 대본:', cleanScript.length, '글자');
                        console.log('   - 이미지 프롬프트:', imagePrompts.length, '개');

                        // 🔥 대본만 저장
                        localStorage.setItem('FINAL_SCRIPT', cleanScript);
                        window.FINAL_SCRIPT_FOR_PYTHON = cleanScript;

                        // 🔥 이미지 프롬프트 별도 저장
                        if (imagePrompts.length > 0) {
                            const promptsJson = JSON.stringify(imagePrompts);
                            localStorage.setItem('IMAGE_PROMPTS', promptsJson);
                            window.IMAGE_PROMPTS = imagePrompts;

                            // MOTIVATION_SCRIPT_JSON에 image_prompts만 저장
                            const motivationData = {
                                image_prompts: imagePrompts
                            };
                            localStorage.setItem('MOTIVATION_SCRIPT_JSON', JSON.stringify(motivationData));
                            window.MOTIVATION_SCRIPT_JSON = motivationData;
                        }

                        return cleanScript;
                    }
                }

                console.warn('⚠️ 7단계인데 마커 못 찾음');
            }

            // ============================================
            // 마지막 단계 아니면 그냥 응답 수집 (저장 안 함)
            // ============================================
            if (responses.length > 0) {
                const lastResponse = responses[responses.length - 1];
                const markdownDiv = lastResponse.querySelector('[class*="standard-markdown"]') ||
                                   lastResponse.querySelector('[class*="progressive-markdown"]');

                let fallbackText = '';
                if (markdownDiv) {
                    fallbackText = markdownDiv.innerText.trim();
                } else {
                    fallbackText = lastResponse.innerText.trim();
                }

                console.log(`📝 ${currentStep}단계 응답 수집: ${fallbackText.length}글자 (저장 안 함)`);
                return fallbackText;
            }

            return '';
        } catch (error) {
            console.error('❌ collectResponse 오류:', error);
            return '';
        }
    }

    // ============================================
    // UI 생성
    // ============================================
    function createPanel() {
        const panel = document.createElement('div');
        panel.id = 'script-automation-panel';
        panel.innerHTML = `
            <h3>🎯 Create: 동기부여 대본 생성</h3>
            <div style="text-align: center;">
                <span class="category-badge">MOTIVATION</span>
            </div>

            <div class="info-box">
                <label>💡 주제/키워드 (선택사항)</label>
                <textarea id="user-input"
                          placeholder="예시 1: 성공하는 사람들의 아침 습관
예시 2: 부자들이 절대 안 하는 3가지
예시 3: 랜덤으로 터질만한 주제 선택해서 진행

※ Python에서 자동 입력됩니다
※ 비워두면 Claude가 자동 선택"></textarea>
                <small>Python에서 자동 입력됩니다</small>
            </div>

            <div class="step-counter">
                단계: <span id="step-count">0 / 7</span>
                <div class="step-name" id="step-name">대기 중</div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>

            <button id="start-btn">🚀 대본 생성 시작</button>
            <button id="stop-btn">⏹ 중지</button>
            <button id="download-btn" disabled>✅ 작업 완료</button>

            <div id="automation-status"></div>
        `;
        document.body.appendChild(panel);

        document.getElementById('start-btn').addEventListener('click', startGeneration);
        document.getElementById('stop-btn').addEventListener('click', stopGeneration);
    }

    // ============================================
    // 메인 자동화 함수
    // ============================================
    async function startGeneration() {
        // Python에서 입력된 프롬프트/키워드 가져오기
        const userPrompt = document.getElementById('user-input')?.value?.trim() || '';

        isRunning = true;
        currentStep = 0;
        allResponses = [];

        document.getElementById('start-btn').style.display = 'none';
        document.getElementById('stop-btn').style.display = 'block';
        document.getElementById('download-btn').disabled = true;

        const promptField = document.getElementById('user-input');
        if (promptField) {
            promptField.disabled = true;
        }

        addStatus('🚀 동기부여 대본 생성 시작!', 'success');

        if (userPrompt) {
            addStatus(`📌 지정 주제: ${userPrompt.substring(0, 30)}...`);
        } else {
            addStatus('📌 자동 주제 선택 모드');
        }

        // 백그라운드 방지
        function keepAlive() {
            if (isRunning) requestAnimationFrame(keepAlive);
        }
        keepAlive();

        while (isRunning && currentStep < MAX_STEPS) {
            const step = STEP_PROMPTS[currentStep];
            currentStep++;
            updateStepDisplay();

            addStatus(`📝 ${currentStep}단계: ${step.name}`);

            try {
                let promptToSend = step.prompt;

                // 3단계이고 사용자 프롬프트가 있으면 주제 지정
                if (currentStep === 3 && userPrompt) {
                    promptToSend = `3단계: 사용자 지정 주제로 진행

📌 사용자가 선택한 주제: "${userPrompt}"

위 주제로 동기부여 콘텐츠를 제작합니다.

아래 형식으로 출력하세요:

---
【선택한 주제】: ${userPrompt}
【선택 이유】: 사용자 지정 주제
【적용할 기승전결 패턴】: (패턴 A~E 중 이 주제에 가장 적합한 것 선택)
【타겟 감정】: (분노/공감/희망/충격 중 선택)
【예상 후킹 방향】: (첫 문장 방향성)
---`;
                }

                const success = await inputPrompt(promptToSend);

                if (!success) {
                    addStatus(`❌ ${step.name} 실패`, 'error');
                    await sleep(3000);
                    currentStep--;
                    continue;
                }

                await sleep(2000);

                // Continue 버튼 처리
                let continueCount = 0;
                while (continueCount < 2) {
                    const hasContinue = await handleContinue();
                    if (hasContinue) {
                        continueCount++;
                        await waitForResponseComplete();
                    } else {
                        break;
                    }
                }

                const response = collectResponse();
                allResponses.push({
                    step: `${currentStep}. ${step.name}`,
                    response: response
                });

                addStatus(`✅ ${step.name} 완료`, 'success');

            } catch (error) {
                addStatus(`⚠️ 오류: ${error.message}`, 'error');
                await sleep(5000);
                currentStep--;
                continue;
            }

            await sleep(3000);
        }

        stopGeneration();
    }

    async function handleContinue() {
        await sleep(2000);
        const continueBtn = Array.from(document.querySelectorAll('button')).find(
            btn => btn.textContent.includes('Continue') || btn.textContent.includes('계속')
        );

        if (continueBtn) {
            continueBtn.click();
            addStatus('✅ Continue 버튼 클릭됨');
            return true;
        }
        return false;
    }

    function stopGeneration() {
        isRunning = false;
        document.getElementById('start-btn').style.display = 'block';
        document.getElementById('stop-btn').style.display = 'none';

        if (currentStep >= MAX_STEPS) {
            addStatus('🎉 대본 생성 완료!', 'success');
            addStatus('📋 JSON이 localStorage에 저장됨', 'success');

            // 🔥 완료 버튼 활성화 (Python이 감지)
            document.getElementById('download-btn').disabled = false;

            // 결과 확인용
            const savedJson = localStorage.getItem('MOTIVATION_SCRIPT_JSON');
            if (savedJson) {
                console.log('=== 생성된 JSON ===');
                console.log(JSON.parse(savedJson));
            }
        } else {
            addStatus('⏹ 생성 중단됨');
        }
    }

    // ============================================
    // 초기화 (짜깁기 스크립트 기반)
    // ============================================
    function init() {
        console.log('🎯 Create Motivation 스크립트 초기화 시작...');
        console.log('📍 현재 URL:', window.location.href);

        if (!document.body) {
            console.error('❌ document.body가 없습니다!');
            setTimeout(init, 1000);
            return;
        }

        const existingPanel = document.getElementById('script-automation-panel');
        if (existingPanel) {
            console.log('🗑️ 기존 패널 제거');
            existingPanel.remove();
        }

        try {
            createPanel();
            console.log('✅ 패널 생성 시도 완료');

            const panel = document.getElementById('script-automation-panel');
            if (panel) {
                console.log('✅ 패널이 DOM에 추가됨');
                addStatus('✅ 동기부여 대본 생성기 준비 완료');
                addStatus('🚀 버튼을 눌러 시작하세요');
            } else {
                console.error('❌ 패널 생성 실패!');
            }
        } catch (error) {
            console.error('❌ 초기화 오류:', error);
        }
    }

    // ESC 키로 패널 숨기기/보이기
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            const panel = document.getElementById('script-automation-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }
    });

    // 페이지 로드 대기 (짜깁기 스크립트 방식)
    function waitForPageLoad() {
        const body = document.body;
        const main = document.querySelector('main');
        const readyState = document.readyState;

        console.log('🔍 로딩 상태:', {
            hasBody: !!body,
            hasMain: !!main,
            readyState: readyState
        });

        if (body && main && (readyState === 'interactive' || readyState === 'complete')) {
            console.log('✅ 페이지 로드 완료 - 초기화 시작');
            setTimeout(() => {
                console.log('🎬 init() 실행');
                init();

                setTimeout(() => {
                    const panel = document.getElementById('script-automation-panel');
                    console.log('📦 패널 생성 확인:', !!panel);
                    if (panel) {
                        console.log('✅ UI 정상 표시됨');
                    } else {
                        console.error('❌ UI 생성 실패 - 재시도');
                        init();
                    }
                }, 500);
            }, 2000);
        } else {
            console.log('⏳ 페이지 로딩 대기 중...');
            setTimeout(waitForPageLoad, 500);
        }
    }

    // 시작
    waitForPageLoad();

})();


// ============================================================
// Claude 팝업 차단
// ============================================================
(function() {
    'use strict';
    
    function killPopup() {
        document.querySelectorAll('[role="dialog"], [role="alertdialog"]').forEach(dialog => {
            const text = dialog.textContent || '';
            if (text.includes('Claude를 계속') || text.includes('Continue using') || 
                text.includes('사용하시겠어요') || text.includes('usage') || text.includes('상위 플랜')) {
                console.log('🔥 팝업 제거');
                dialog.remove();
            }
        });
        
        document.querySelectorAll('[class*="backdrop"], [class*="overlay"], [class*="modal"]').forEach(el => {
            const style = window.getComputedStyle(el);
            const zIndex = parseInt(style.zIndex) || 0;
            
            if (zIndex > 999 && style.position === 'fixed') {
                console.log('🔥 오버레이 제거');
                el.remove();
            }
        });
        
        document.body.style.overflow = '';
        document.querySelectorAll('[inert]').forEach(el => el.removeAttribute('inert'));
    }
    
    const observer = new MutationObserver(killPopup);
    observer.observe(document.body, { childList: true, subtree: true });
    setInterval(killPopup, 2000);
    
    console.log('✅ 팝업 차단 활성화');
})();